{"version":3,"sources":["components/employee/Employee.jsx","components/column/Column.jsx","components/bithday-info/BirthdayInfo.jsx","components/month/Month.jsx","App.js","reportWebVitals.js","index.js"],"names":["localStorageAction","action","key","val","localStorage","setItem","removeItem","isInStorage","id","arr","Object","keys","forEach","push","indexOf","Employee","name","birthday","func","useContext","EmployeeData","useState","className","setClassName","useEffect","handleChange","e","result","active","target","value","type","checked","onChange","Column","employees","title","length","employeesLst","person","fullName","lastName","firstName","dob","BirthdayInfo","showBirthdays","data","month","bdString","Month","employee","EmployeeContext","dateToString","date","d","Date","day","getUTCDate","year","getUTCFullYear","getUTCMonth","getMonthId","renderMonths","obj","includes","sorted","sort","a","b","res","React","createContext","App","fetchData","setFetchState","birthdayData","setBirthdayData","fetch","then","response","json","getData","storage","loadFromStorage","employeeArray","find","employeeEdited","columns","letter","toUpperCase","filtered","filter","el","createColumns","Provider","elem","index","splice","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.950a4957.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport './employee.styles.css'\r\nimport { EmployeeData } from '../../App';\r\n\r\nfunction localStorageAction(action, key, val=true) {\r\n\r\n  if (action === 'set') {\r\n    localStorage.setItem(key, val);\r\n  }\r\n\r\n  if (action === 'remove') {\r\n    localStorage.removeItem(key);\r\n  }\r\n\r\n}\r\n\r\nfunction isInStorage(id) {\r\n\r\n  let arr = [];\r\n  const keys = Object.keys(localStorage);\r\n  keys.forEach(val => arr.push(val));\r\n\r\n  return arr.indexOf(id) !== -1\r\n\r\n}\r\n\r\nfunction Employee( {id, name, birthday} ) {\r\n\r\n  const func = useContext(EmployeeData);\r\n  const [className, setClassName] = useState('');\r\n\r\n  useEffect(() => {\r\n\r\n    isInStorage(id) ? setClassName('blue') : setClassName('');\r\n\r\n  },[id])\r\n  \r\n  const handleChange = (e) => {\r\n\r\n    const result = func( {id, name, birthday, active: e.target.value} );\r\n    if (e.target.value === 'active') {\r\n      \r\n      setClassName('blue');\r\n      localStorageAction('set', id);\r\n      return result\r\n      \r\n    }\r\n    \r\n    setClassName('');\r\n    localStorageAction('remove', id);\r\n    return result\r\n\r\n  }\r\n\r\n    return (\r\n        <div className=\"column__employee\">\r\n            <div className={`column__employeeName ${className}`}>{name}</div> \r\n            <div className=\"column__radioBtns\">\r\n\r\n                <label> not active \r\n                  <input type=\"radio\" name={id} value=\"not-active\" checked={isInStorage(id) === false} onChange={handleChange}/>\r\n                </label>\r\n\r\n                <label> active \r\n                  <input type=\"radio\" name={id} value=\"active\" checked={isInStorage(id) === true} onChange={handleChange}/>\r\n                </label>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Employee;","import React from 'react'\r\nimport Employee from '../employee/Employee'\r\nimport './column.styles.css'\r\n\r\nfunction Column( {employees, title} ) {\r\n\r\n    if (employees.length === 0) {\r\n        return (\r\n            <div className=\"column\">\r\n                <div className=\"column__letter\">{title}</div>\r\n                <div className=\"column__empty\">----</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    let employeesLst = [];\r\n    \r\n    employees.forEach(person => {\r\n\r\n        const fullName = `${person.lastName} ${person.firstName}`;\r\n        employeesLst.push(\r\n            <Employee \r\n                name = { fullName } \r\n                key = { person.id } \r\n                id = { person.id}\r\n                birthday = { person.dob }\r\n            />)\r\n    })\r\n\r\n    return (\r\n        <div className=\"column\">\r\n            \r\n            <div className=\"column__letter\">{title}</div>\r\n            { employeesLst }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Column;","import React from 'react'\r\nimport './birthday-info.styles.css'\r\n\r\nfunction BirthdayInfo( {name, birthday} ) {\r\n    return (\r\n        <li className=\"birthday__info\">\r\n            <span className=\"birthday__employeeName\">{name} â€” </span>\r\n            <span className=\"birthday__date\">{birthday}</span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default BirthdayInfo\r\n","import React, {useContext} from 'react'\r\nimport './month.styles.css'\r\nimport { EmployeeContext } from '../../App'\r\nimport BirthdayInfo from '../bithday-info/BirthdayInfo'\r\n\r\nfunction showBirthdays(data, month) {\r\n\r\n    let arr = [];\r\n    data.forEach(person => {\r\n        if (person.month === month) {\r\n            arr.push(<BirthdayInfo name={ person.name } birthday={ person.bdString } key={ person.id} />)\r\n        } \r\n    })\r\n\r\n    return arr;\r\n}\r\n\r\nfunction Month({ name }) {\r\n\r\n    const employee = useContext(EmployeeContext);\r\n\r\n    return (\r\n        <div className=\"month__wrapper\">\r\n            <div className=\"month__title\">{name}</div>\r\n            {showBirthdays(employee, name)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Month","import React, { useEffect, useState } from \"react\"\nimport Column from \"./components/column/Column\"\nimport Month from './components/month/Month'\n\nfunction createColumns(data) {\n  \n  let columns = [];\n  let sorted = data.sort((a, b) => (a.lastName > b.lastName) ? 1 : -1);\n  const alphabet = 'abcdefghijklmnopqrstuvwxyz';\n  \n  for(let letter of alphabet) {\n\n    letter = letter.toUpperCase();\n    const filtered = sorted.filter(el => el.lastName[0].toUpperCase() === letter.toUpperCase());\n\n    columns.push(<Column \n                    title= { letter } \n                    employees= { filtered } \n                    key= { letter } \n                />)\n  }\n  \n  return columns;\n}\n\nfunction dateToString(date) {\n\n  const monthsObj = {\n    '0' : 'January',\n    '1' : 'February',\n    '2' : 'March',\n    '3' : 'April',\n    '4' : 'May',\n    '5' : 'June',\n    '6' : 'July',\n    '7' : 'August',\n    '8' : 'September',\n    '9' : 'October',\n    '10' : 'November',\n    '11' : 'December'\n  }\n\n  const d = new Date(date);\n  const day = d.getUTCDate();\n  const year = d.getUTCFullYear();\n  const monthNum = d.getUTCMonth();\n  const month = monthsObj[monthNum];\n\n  return [month, `${day} ${month}, ${year} year`];\n}\n\nfunction getMonthId(month) {\n  return ['May', 'June', 'July', 'August', 'September', 'October', \n          'November', 'December', 'January', 'February', 'March', 'April']\n          .indexOf(month);\n}\n\nfunction renderMonths(data) {\n\n  let arr = [];\n  data.forEach(obj => {\n    if (!arr.includes(obj.month)) {\n      arr.push(obj.month)\n    }\n  });\n\n  let sorted = arr.sort((a, b) => (getMonthId(a) > getMonthId(b)) ? 1 : -1);\n\n  let res = [];\n  sorted.forEach(month => {\n    res.push(<Month key={ month } name= {month} />)\n  })\n\n  return res;\n\n}\n\nfunction loadFromStorage() {\n\n  let arr = [];\n  const keys = Object.keys(localStorage);\n  keys.forEach(val => arr.push(val));\n\n  return arr\n\n}\n\nfunction App() {\n\n  const [fetchData, setFetchState] = useState([]);\n  const [birthdayData, setBirthdayData] = useState([]);\n\n  // fetching data\n  useEffect(() => {\n\n    async function getData() { \n      const url = \"https://yalantis-react-school-api.yalantis.com/api/task0/users\";\n      const res = await fetch(url)\n                        .then(response => response.json())\n      setFetchState(res);\n    }\n\n    getData();\n\n  }, []);\n\n  useEffect(() => {\n    \n    // loading data from Local Storage\n    const storage = loadFromStorage();\n    let employeeArray = []; \n    \n    for (let id of storage) {\n      \n      const employee = fetchData.find(obj => obj.id === id ? obj : null);\n\n      if (employee) {\n        const fullName = `${employee.lastName} ${employee.firstName}`;\n        const [month, bdString] = dateToString(employee.dob);\n        const employeeEdited = { id, name: fullName, bdString, month }\n        employeeArray.push(employeeEdited);\n      }\n\n    }\n\n    employeeArray.sort((a, b) => (a.name > b.name) ? 1 : -1);\n    setBirthdayData([...birthdayData, ...employeeArray])\n\n  }, [fetchData])\n\n  // to fix the function name in future\n  const func = ( {name, birthday, id, active} ) => {\n\n    //adding sorted data to the right column\n    if (active === \"active\") {\n\n      const [month, bdString] = dateToString(birthday);\n      const sorted = [...birthdayData, {id, name, bdString, month}];\n      sorted.sort((a, b) => (a.name > b.name) ? 1 : -1);\n  \n      setBirthdayData([...sorted])\n    \n    // removing data from the right column\n    } else {\n\n      let arr = [...birthdayData];\n  \n      arr.forEach((elem, index) => {\n        if (elem.id === id) {\n          arr.splice(index, 1);\n        }\n      })\n  \n      setBirthdayData([...arr])\n\n    }\n  }\n\n  const columns = createColumns(fetchData);\n\n  return (\n    <EmployeeContext.Provider value={birthdayData}>\n      <EmployeeData.Provider value={func}>\n        <div className=\"container-main\">\n\n          <section name=\"leftSide\" className=\"leftSide\">\n            <h2 className=\"title\">Employees</h2>\n            <div className=\"container-inner container-inner-left\">\n              {columns}\n            </div>\n          </section>\n\n          <section name=\"rightSide\" className=\"rightSide\">\n            <h2 className=\"title\">Employees Birthday</h2>\n            <div className=\"container-inner container-inner-right\">\n              <div className=\"birthday__column\">\n                {renderMonths(birthdayData)}\n              </div>\n            </div>\n          </section>\n\n        </div>\n      </EmployeeData.Provider>\n    </EmployeeContext.Provider>\n  );\n}\n\nexport const EmployeeContext = React.createContext();\nexport const EmployeeData = React.createContext();\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}