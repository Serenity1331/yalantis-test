(this["webpackJsonpyalantis-test"]=this["webpackJsonpyalantis-test"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),i=n.n(r),s=(n(15),n(4)),o=n(7),l=n.n(o),u=n(10),d=n(2),j=n(8),m=(n(17),n(0));function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"set"===e&&localStorage.setItem(t,n),"remove"===e&&localStorage.removeItem(t)}function b(e){var t=[];return Object.keys(localStorage).forEach((function(e){return t.push(e)})),-1!==t.indexOf(e)}var f=function(e){var t=e.id,n=e.name,c=e.birthday,r=Object(a.useContext)(S),i=Object(a.useState)(""),s=Object(d.a)(i,2),o=s[0],l=s[1];Object(a.useEffect)((function(){b(t)?l("blue"):l("")}),[t]);var u=function(e){var a=r({id:t,name:n,birthday:c,active:e.target.value});return"active"===e.target.value?(l("blue"),h("set",t),a):(l(""),h("remove",t),a)};return Object(m.jsxs)("div",{className:"column__employee",children:[Object(m.jsx)("div",{className:"column__employeeName ".concat(o),children:n}),Object(m.jsxs)("div",{className:"column__radioBtns",children:[Object(m.jsxs)("label",{children:[" not active",Object(m.jsx)("input",{type:"radio",name:t,value:"not-active",checked:!1===b(t),onChange:u})]}),Object(m.jsxs)("label",{children:[" active",Object(m.jsx)("input",{type:"radio",name:t,value:"active",checked:!0===b(t),onChange:u})]})]})]})};n(19);var v=function(e){var t=e.employees,n=e.title;if(0===t.length)return Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("div",{className:"column__letter",children:n}),Object(m.jsx)("div",{className:"column__empty",children:"----"})]});var a=[];return t.forEach((function(e){var t="".concat(e.lastName," ").concat(e.firstName);a.push(Object(m.jsx)(f,{name:t,id:e.id,birthday:e.dob},e.id))})),Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("div",{className:"column__letter",children:n}),a]})};n(20),n(21);var O=function(e){var t=e.name,n=e.birthday;return Object(m.jsxs)("li",{className:"birthday__info",children:[Object(m.jsxs)("span",{className:"birthday__employeeName",children:[t," \u2014 "]}),Object(m.jsx)("span",{className:"birthday__date",children:n})]})};function p(e,t){var n=[];return e.forEach((function(e){e.month===t&&n.push(Object(m.jsx)(O,{name:e.name,birthday:e.bdString},e.id))})),n}var y=function(e){var t=e.name,n=Object(a.useContext)(_);return Object(m.jsxs)("div",{className:"month__wrapper",children:[Object(m.jsx)("div",{className:"month__title",children:t}),p(n,t)]})};function x(e){var t=new Date(e),n=t.getUTCDate(),a=t.getUTCFullYear(),c={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[t.getUTCMonth()];return[c,"".concat(n," ").concat(c,", ").concat(a," year")]}function N(e){return["May","June","July","August","September","October","November","December","January","February","March","April"].indexOf(e)}function g(e){var t=[];e.forEach((function(e){t.includes(e.month)||t.push(e.month)}));var n=t.sort((function(e,t){return N(e)>N(t)?1:-1})),a=[];return n.forEach((function(e){a.push(Object(m.jsx)(y,{name:e},e))})),a}var _=c.a.createContext(),S=c.a.createContext(),C=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(d.a)(r,2),o=i[0],h=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://yalantis-react-school-api.yalantis.com/api/task0/users",e.next=3,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()}));case 3:t=e.sent,c(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){var e,t=function(){var e=[];return Object.keys(localStorage).forEach((function(t){return e.push(t)})),e}(),a=[],c=Object(j.a)(t);try{var r=function(){var t=e.value,c=n.find((function(e){return e.id===t?e:null}));if(c){var r="".concat(c.lastName," ").concat(c.firstName),i=x(c.dob),s=Object(d.a)(i,2),o=s[0],l=s[1],u={id:t,name:r,bdString:l,month:o};a.push(u)}};for(c.s();!(e=c.n()).done;)r()}catch(i){c.e(i)}finally{c.f()}a.sort((function(e,t){return e.name>t.name?1:-1})),h([].concat(Object(s.a)(o),a))}),[n]);var b=function(e){var t,n=[],a=e.sort((function(e,t){return e.lastName>t.lastName?1:-1})),c=Object(j.a)("abcdefghijklmnopqrstuvwxyz");try{var r=function(){var e=t.value;e=e.toUpperCase();var c=a.filter((function(t){return t.lastName[0].toUpperCase()===e.toUpperCase()}));n.push(Object(m.jsx)(v,{title:e,employees:c},e))};for(c.s();!(t=c.n()).done;)r()}catch(i){c.e(i)}finally{c.f()}return n}(n);return Object(m.jsx)(_.Provider,{value:o,children:Object(m.jsx)(S.Provider,{value:function(e){var t=e.name,n=e.birthday,a=e.id;if("active"===e.active){var c=x(n),r=Object(d.a)(c,2),i=r[0],l=r[1],u=[].concat(Object(s.a)(o),[{id:a,name:t,bdString:l,month:i}]);u.sort((function(e,t){return e.name>t.name?1:-1})),h(Object(s.a)(u))}else{var j=Object(s.a)(o);j.forEach((function(e,t){e.id===a&&j.splice(t,1)})),h(Object(s.a)(j))}},children:Object(m.jsxs)("div",{className:"container-main",children:[Object(m.jsxs)("section",{name:"leftSide",className:"leftSide",children:[Object(m.jsx)("h2",{className:"title",children:"Employees"}),Object(m.jsx)("div",{className:"container-inner container-inner-left",children:b})]}),Object(m.jsxs)("section",{name:"rightSide",className:"rightSide",children:[Object(m.jsx)("h2",{className:"title",children:"Employees Birthday"}),Object(m.jsx)("div",{className:"container-inner container-inner-right",children:Object(m.jsx)("div",{className:"birthday__column",children:g(o)})})]})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),E()}],[[22,1,2]]]);
//# sourceMappingURL=main.950a4957.chunk.js.map